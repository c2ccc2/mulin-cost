import{_ as P,u as F,r as a,B as L,f as p,c as k,o as s,h as l,j as r,i as I,F as M,C as U,k as d,p as m,l as f}from"./index-DOTrAPYh.js";import{a as q}from"./project-CvO5xYQd.js";import z from"./setting-BZLEpuaM.js";import E from"./info-CfqO6LOz.js";import H from"./hour-CwDLqK3m.js";import O from"./member-BSp4w9s0.js";import"./projectHour-DaHsWXCm.js";import"./projectUser-D62y_OJi.js";import"./addMember-DmIwjaK0.js";import"./user-CyO_SREy.js";const R={class:"main"},S={class:"nav"},T={__name:"detail",setup(A){const _=F(),n=a(""),v=a([]),u=a(0),y=a(),g=a(),C=a(),V=a(),w=async()=>{try{const o=await q({pageSize:1e3});if(o.code===200){v.value=o.rows||o.data||[];const e=_.query.projectId||_.params.projectId;e&&(n.value=e,u.value=0)}}catch(o){console.error("获取项目列表失败:",o)}},N=o=>{n.value=o},i=o=>{u.value=o};return L(()=>{w()}),(o,e)=>{const b=p("el-option"),x=p("el-select"),c=p("el-button"),B=p("el-row"),j=p("el-form-item"),$=p("el-form");return s(),k("div",R,[l($,{class:"form-inline"},{default:r(()=>[l(j,null,{default:r(()=>[I("div",null,[l(x,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),placeholder:"选择项目",onChange:N,"value-key":"item.projectId",filterable:"",class:"nav-project select-with-margin"},{default:r(()=>[(s(!0),k(M,null,U(v.value,t=>(s(),d(b,{key:t.projectId,label:t.projectName,value:t.projectId+""},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),I("div",S,[l(B,null,{default:r(()=>[l(c,{onClick:e[1]||(e[1]=t=>i(0)),plain:""},{default:r(()=>e[5]||(e[5]=[m("项目概要")])),_:1,__:[5]}),l(c,{onClick:e[2]||(e[2]=t=>i(1)),plain:""},{default:r(()=>e[6]||(e[6]=[m("工时记录")])),_:1,__:[6]}),l(c,{onClick:e[3]||(e[3]=t=>i(2)),plain:""},{default:r(()=>e[7]||(e[7]=[m("项目成员")])),_:1,__:[7]}),l(c,{onClick:e[4]||(e[4]=t=>i(3)),plain:""},{default:r(()=>e[8]||(e[8]=[m("状态管理")])),_:1,__:[8]})]),_:1})])]),_:1}),l(j,null,{default:r(()=>[u.value==0?(s(),d(E,{key:0,ref_key:"info",ref:y,projectId:n.value},null,8,["projectId"])):f("",!0),u.value==1?(s(),d(H,{key:1,ref_key:"hour",ref:V,projectId:n.value},null,8,["projectId"])):f("",!0),u.value==2?(s(),d(O,{key:2,ref_key:"user",ref:C,projectId:n.value},null,8,["projectId"])):f("",!0),u.value==3?(s(),d(z,{key:3,ref_key:"manager",ref:g,projectId:n.value},null,8,["projectId"])):f("",!0)]),_:1})]),_:1})])}}},ee=P(T,[["__scopeId","data-v-ef31e424"]]);export{ee as default};
