(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2574d02e","chunk-496fda0a","chunk-57099051","chunk-26681f1b","chunk-20d58d1e"],{"1a07":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"g",(function(){return s})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return l})),i.d(e,"e",(function(){return u})),i.d(e,"f",(function(){return c})),i.d(e,"c",(function(){return d}));i("99af");var r=i("b775"),o=i("c38a");function a(t){return Object(r["a"])({url:"/mh/hour/day/create",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/mh/hour/day/edit",method:"put",data:t})}function n(t){return Object(r["a"])({url:"/mh/hour/day/"+Object(o["e"])(t),method:"get"})}function l(t){return Object(r["a"])({url:"/mh/hour/day/"+t,method:"delete"})}function u(t,e){return Object(r["a"])({url:"/mh/hour/day/list?endDate=".concat(e,"&startDate=").concat(t),method:"get"})}function c(t){return Object(r["a"])({url:"/mh/hour/day/query",method:"get",params:t})}function d(){return Object(r["a"])({url:"/mh/hour/day/fillStatus",method:"get"})}},2257:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s}));var r=i("b775");i("c38a");function o(t){return Object(r["a"])({url:"/project/hour/detail?hourId="+t,method:"get"})}function a(t){return Object(r["a"])({url:"/project/hour/count?projectId="+t,method:"get"})}function s(t){return Object(r["a"])({url:"/project/hour/list",method:"get",params:t})}},"2c1f":function(t,e,i){"use strict";i("8bd9")},"39c4":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return s}));var r=i("b775");function o(t){return Object(r["a"])({url:"/mh/review/day/list",method:"get",params:t})}function a(t){return Object(r["a"])({url:"/mh/review/day/detail?hourId="+t,method:"get"})}function s(t){return Object(r["a"])({url:"/mh/review/day/audit",method:"post",data:t})}},4310:function(t,e,i){},"46d0":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("el-dialog",{staticStyle:{width:"80%",margin:"0 auto"},attrs:{title:"工时填报:"+t.hourTime,visible:t.dialogFormVisible,"before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{staticStyle:{"max-height":"600px","overflow-y":"scroll"},attrs:{model:t.form,"status-icon":"",rules:t.rules}},[t._l(t.projectArr,(function(e){return i("el-form-item",{key:e.projectId,attrs:{label:"项目工时"}},[i("el-card",{staticClass:"box-card",staticStyle:{width:"100%"},attrs:{shadow:"never"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"projectLabel"},[t._v(" #"+t._s(e.projectId)+" "+t._s(e.projectName)+" ")])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","align-items":"center"}},[i("el-input-number",{staticStyle:{width:"40%"},attrs:{type:"number",max:24,min:0,maxlength:"2",autocomplete:"off",disabled:e.isArchive,precision:2},on:{input:function(i){return t.lookinput(e.hour)}},model:{value:e.hour,callback:function(i){t.$set(e,"hour",t._n(i))},expression:"item.hour"}}),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("小时")])],1),i("hr"),i("el-input",{staticStyle:{"margin-top":"5px"},attrs:{type:"textarea",maxlength:"200",disabled:e.isArchive,autosize:{minRows:2,maxRows:6},"show-word-limit":"",placeholder:"请填写日志"},model:{value:e.daily,callback:function(i){t.$set(e,"daily",i)},expression:"item.daily"}})],1)],1)})),i("el-form-item",{attrs:{label:"普通工时"}},[i("el-card",{staticClass:"box-card",attrs:{shadow:"never",mode:t.otherHour}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","align-items":"center"}},[i("el-input-number",{staticStyle:{width:"40%"},attrs:{type:"number",max:24,min:0,maxlength:"2",autocomplete:"off",precision:2},on:{input:function(e){return t.lookinput(t.otherHour.hour)}},model:{value:t.otherHour.hour,callback:function(e){t.$set(t.otherHour,"hour",t._n(e))},expression:"otherHour.hour"}}),i("span",{staticStyle:{"margin-left":"10px"}},[t._v("小时")])],1),i("hr"),i("el-input",{staticStyle:{"margin-top":"5px"},attrs:{type:"textarea",maxlength:"200",autosize:{minRows:2,maxRows:6},"show-word-limit":"",placeholder:"请填写日志"},model:{value:t.otherHour.daily,callback:function(e){t.$set(t.otherHour,"daily",e)},expression:"otherHour.daily"}})],1)],1)],2),i("div",{staticClass:"myfoot"},[i("div",{staticStyle:{float:"right","text-align":"right"}},[i("span",{staticClass:"tips",staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.submitTips))]),i("el-input",{staticStyle:{width:"20%"},attrs:{max:24,autocomplete:"off",disabled:!0},model:{value:t.useHourTotal,callback:function(e){t.useHourTotal=t._n(e)},expression:"useHourTotal"}}),i("span",{staticStyle:{margin:"0 10px"}},[t._v("小时")]),i("div",{staticClass:"footer-btn",attrs:{slot:"footer",align:"center"},slot:"footer"},[i("el-button",{style:{width:"100px"},attrs:{size:"small"},on:{click:t.handleClose}},[t._v(" 取 消 ")]),i("el-button",{style:{width:"100px"},attrs:{disabled:t.submitFlag,size:"small",type:"primary"},on:{click:t.handleSubmit}},[t._v(" 提交 ")])],1)],1)])],1)],1)},o=[],a=(i("d3b7"),i("0643"),i("4e3e"),i("159b"),i("1a07")),s=i("4fee"),n={data:function(){var t=function(t,e,i){};return{dialogFormVisible:!1,form:{date:"",projectHours:[]},rules:{hour:[{validator:t,trigger:"blur"}]},index:null,hourTime:"",projectArr:[],otherHour:{hour:0,daily:""},useHourTotal:0,submitFlag:!0,submitTips:""}},created:function(){},methods:{open:function(t,e){this.submitFlag=!0,this.index=e,this.hourTime=t.date,this.getProjectList(),this.dialogFormVisible=!0},getProjectList:function(){var t=this;Object(s["e"])().then((function(e){200==e.code&&(t.projectArr=e.data,t.projectArr.forEach((function(t){t.hour=0})))}))},handleSubmit:function(){var t=this;this.form.date=this.hourTime;var e=0;if(this.projectArr.forEach((function(t){e+=t.hour+0,t.projectName&&delete t.projectName})),e+=this.otherHour.hour,e>=24||e<=0)return this.submitFlag=!0,void(this.submitTips="无法提交，工时不能为0 或者超过24小时! ");this.form.projectHours=this.projectArr,this.form.otherHour=this.otherHour,Object(a["a"])(this.form).then((function(e){200==e.code?(t.$message.success("工时提交成功"),t.$emit("commit",t.index,e),t.handleClose()):t.$message.error("提交失败，失败原因为：",e.msg)})).catch((function(t){}))},handleClose:function(){this.submitFlag=!0,this.submitTips="",this.form.projectHours=[],this.form.date="",this.projectArr=[],this.otherHour={hour:0,daily:""},this.dialogFormVisible=!1},lookinput:function(t){var e=0;return this.projectArr.forEach((function(t){return e+=t.hour+0})),e+=this.otherHour.hour,this.useHourTotal=e,""===t||t<0?(t=0,this.submitFlag=!0,void(this.submitTips="工时不能为空")):e>=24?(this.submitFlag=!0,void(this.submitTips="无法提交，工时最大范围为1-24小时! ")):e>8?(this.submitFlag=!1,void(this.submitTips="可以提交!（加班）")):e>0?(this.submitFlag=!1,void(this.submitTips="可以提交")):(this.submitTips="请填写工时，工时范围为1-24小时!",void(this.submitFlag=!0))}}},l=n,u=(i("8b84"),i("2877")),c=Object(u["a"])(l,r,o,!1,null,"74e32f8d",null);e["default"]=c.exports},"4fee":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"g",(function(){return a})),i.d(e,"f",(function(){return s})),i.d(e,"b",(function(){return n})),i.d(e,"d",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"e",(function(){return c}));var r=i("b775");function o(t){return Object(r["a"])({url:"/project/create",method:"post",data:t})}function a(t){return Object(r["a"])({url:"/project/list",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/project/myJoinList",method:"get",params:t})}function n(t){return Object(r["a"])({url:"/project/remove?projectId="+t,method:"delete"})}function l(t){return Object(r["a"])({url:"/project/"+t,method:"get"})}function u(t){return Object(r["a"])({type:"form",url:"/project/enable",headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"put",data:t})}function c(){return Object(r["a"])({url:"/project/myJoin",method:"get"})}},7276:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("el-dialog",{staticStyle:{width:"80%",margin:"0 auto"},attrs:{title:"编辑工时:"+t.hourTime,visible:t.dialogFormVisible,"before-close":t.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{staticStyle:{"max-height":"600px","overflow-y":"scroll"},attrs:{model:t.form,"status-icon":"",rules:t.rules}},[t._l(t.projectArr,(function(e){return i("el-form-item",{key:e.projectId},[i("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"projectLabel"},[t._v(" #"+t._s(e.projectId)+" "+t._s(e.projectName)+" ")])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-input-number",{staticStyle:{"margin-right":"auto",width:"40%"},attrs:{type:"number",max:24,min:0,maxlength:"2",autocomplete:"off",disabled:e.isArchive,precision:2},on:{input:function(i){return t.lookinput(e.hour)}},model:{value:e.hour,callback:function(i){t.$set(e,"hour",t._n(i))},expression:"item.hour"}}),i("span",{staticStyle:{margin:"0 10px"}},[t._v("小时")])],1),i("hr"),i("el-input",{staticStyle:{"margin-top":"5px"},attrs:{type:"textarea",maxlength:"200",disabled:e.isArchive,autosize:{minRows:2,maxRows:6},"show-word-limit":"",placeholder:"请填写日志"},model:{value:e.daily,callback:function(i){t.$set(e,"daily",i)},expression:"item.daily"}})],1)],1)})),i("el-form-item",[i("el-card",{staticClass:"box-card",attrs:{shadow:"never",mode:t.otherHour}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"projectLabel"},[t._v("其他工时")])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-input-number",{staticStyle:{"margin-right":"auto",width:"40%"},attrs:{type:"number",max:24,min:0,maxlength:"2",autocomplete:"off",precision:2},on:{input:function(e){return t.lookinput(t.otherHour.hour)}},model:{value:t.otherHour.hour,callback:function(e){t.$set(t.otherHour,"hour",t._n(e))},expression:"otherHour.hour"}}),i("span",{staticStyle:{margin:"0 10px"}},[t._v("小时")])],1),i("hr"),i("el-input",{staticStyle:{"margin-top":"5px"},attrs:{type:"textarea",maxlength:"200",autosize:{minRows:2,maxRows:6},"show-word-limit":"",placeholder:"请填写日志"},model:{value:t.otherHour.daily,callback:function(e){t.$set(t.otherHour,"daily",e)},expression:"otherHour.daily"}})],1)],1)],2),i("div",{staticClass:"myfoot"},[i("div",{staticStyle:{float:"right","text-align":"right"}},[i("span",{staticClass:"tips",staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.submitTips))]),i("el-input",{staticStyle:{width:"20%"},attrs:{max:24,autocomplete:"off",disabled:!0},model:{value:t.useHourTotal,callback:function(e){t.useHourTotal=t._n(e)},expression:"useHourTotal"}}),i("span",{staticStyle:{margin:"0 10px"}},[t._v("小时")]),i("div",{staticClass:"footer-btn",attrs:{slot:"footer",align:"center"},slot:"footer"},[i("el-button",{style:{width:"100px"},attrs:{size:"small"},on:{click:t.handleClose}},[t._v(" 取 消 ")]),i("el-button",{style:{width:"100px"},attrs:{disabled:t.submitFlag,size:"small",type:"primary"},on:{click:t.handleSubmit}},[t._v(" 提交 ")])],1)],1)])],1)],1)},o=[],a=i("ade3"),s=(i("7db0"),i("14d9"),i("d3b7"),i("0643"),i("fffc"),i("4e3e"),i("159b"),i("1a07")),n=i("4fee"),l={data:function(){var t=function(t,e,i){};return Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({dialogFormVisible:!1,form:{date:"",projectHours:[],id:""},rules:{hour:[{validator:t,trigger:"blur"}]},hourTime:"",projectArr:[],otherHour:{hour:0,daily:""},info:{}},"rules",{hour:[{validator:t,trigger:"blur"}]}),"useHourTotal",0),"submitFlag",!0),"submitTips","")},created:function(){},methods:{open:function(){this.submitFlag=!0,this.hourTime=this.info.fillDate,this.form.id=this.info.id,this.getProjectList(),this.dialogFormVisible=!0},getProjectList:function(){var t=this;Object(n["e"])().then((function(e){200==e.code&&e.data.forEach((function(e){var i=t.projectArr.find((function(t){return t.projectId===e.projectId}));i||t.projectArr.push(e)}))}))},handleSubmit:function(){var t=this;this.form.date=this.hourTime;var e=0;if(this.projectArr.forEach((function(t){e+=t.hour+0,t.projectName&&delete t.projectName})),e+=this.otherHour.hour,e>=24||e<=0)return this.submitFlag=!0,void(this.submitTips="无法提交，工时不能为0 或者超过24小时! ");var i={id:this.form.id,projectHours:this.projectArr,otherHour:this.otherHour};Object(s["g"])(i).then((function(e){200==e.code?(t.$message.success("修改成功"),t.$emit("commit"),t.handleClose()):t.$message.error("提交失败，失败原因为：",e.msg)})).catch((function(e){t.$message.error("出现错误，错误原因为",e)}))},handleClose:function(){this.submitFlag=!0,this.submitTips="",this.form.projectHours=[],this.form.date="",this.projectArr=[],this.otherHour={hour:0,daily:""},this.dialogFormVisible=!1},lookinput:function(t){null!=t&&void 0!=t||(t=0);var e=0;return this.projectArr.forEach((function(t){return e+=t.hour+0})),e+=this.otherHour.hour,this.useHourTotal=e,""===t||t<0?(t=0,this.submitFlag=!0,void(this.submitTips="工时不能为空")):e>=24?(this.submitFlag=!0,void(this.submitTips="无法提交，工时最大范围为1-24小时! ")):e>8?(this.submitFlag=!1,void(this.submitTips="可以提交!（加班）")):e>0?(this.submitFlag=!1,void(this.submitTips="可以提交")):(this.submitTips="请填写工时，工时范围为1-24小时!",void(this.submitFlag=!0))}}},u=l,c=(i("cd00"),i("2877")),d=Object(c["a"])(u,r,o,!1,null,"41ffcba3",null);e["default"]=d.exports},"7a8b":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("el-dialog",{staticStyle:{width:"80%",margin:"0 auto"},attrs:{title:"日报详情",visible:t.dailyDialog,"before-close":t.handleViewCannel,align:"center","custom-class":"detailDialog"},on:{"update:visible":function(e){t.dailyDialog=e}}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"form",attrs:{"label-width":"80px"}},[i("el-form-item",[i("el-descriptions",{attrs:{title:"信息",column:2}},[i("el-descriptions-item",{attrs:{label:"填报日期"}},[t._v(" "+t._s(this.info.fillDate)+" ")]),i("el-descriptions-item",{attrs:{label:"工时总计"}},[t._v(t._s(this.info.totalHour?this.info.totalHour:0)+"小时")]),i("el-descriptions-item",{attrs:{label:"项目工时"}},[t._v(t._s(this.info.workHour?this.info.workHour:0)+"小时")]),i("el-descriptions-item",{attrs:{label:"普通工时"}},[t._v(t._s(this.info.otherHour?this.info.otherHour:0)+"小时")]),i("el-descriptions-item",{attrs:{label:"提交时间"}},[t._v(t._s(this.info.createTime))])],1)],1),i("el-form-item",{attrs:{label:"项目工时"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.projectHours}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),i("el-table-column",{attrs:{prop:"projectName",label:"项目名称",width:"260"}}),i("el-table-column",{attrs:{prop:"hour",label:"工时",width:"80 ",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.hour)+"小时")])]}}])}),i("el-table-column",{attrs:{prop:"daily",label:"工作内容",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.daily?e.row.daily:"无"))])]}}])})],1)],1),i("el-form-item",[i("div",{staticClass:"el-descriptions__title",staticStyle:{"text-align":"left"}},[t._v(" 普通工时 ")]),i("el-descriptions",{attrs:{column:2}},[i("el-descriptions-item",{attrs:{label:"工时"}},[t._v(t._s(this.otherHour.hour?this.otherHour.hour:0)+"小时")]),i("el-descriptions-item",{attrs:{label:"工作内容"}},[t._v(t._s(this.otherHour.daily?this.otherHour.daily:"无"))])],1)],1),i("el-form-item",[1==t.info.reviewType?i("dayReviewList",{attrs:{id:t.id}}):t._e()],1),i("el-form-item",[i("div",{attrs:{align:"center"}},[i("el-button",{style:{width:"120px"},attrs:{size:"small"},on:{click:t.handleViewCannel}},[t._v("关闭")]),i("el-button",{style:{width:"120px"},attrs:{type:"primary",size:"small"},on:{click:t.handleEdit}},[t._v("修改")]),i("el-button",{style:{width:"120px"},attrs:{type:"danger",size:"small"},on:{click:t.handleDel}},[t._v("删除")])],1)])],1)],1)],1)],1),i("editHour",{ref:"editHour",on:{commit:t.open}})],1)},o=[],a=i("1a07"),s=i("2257"),n=i("c194"),l=i("7276"),u=i("8c26"),c={components:{editHour:l["default"],dayReviewList:u["default"]},data:function(){return{dailyDialog:!1,id:0,info:{},projectHours:[],otherHour:{},index:void 0}},created:function(){},methods:{open:function(){this.dailyDialog=!0,this.getDetail(),this.getProject(),this.getOther()},handleEdit:function(){this.$refs.editHour.otherHour=this.otherHour,this.$refs.editHour.projectArr=this.projectHours,this.$refs.editHour.info=this.info,this.$refs.editHour.open()},getDetail:function(){var t=this;Object(a["d"])(this.id).then((function(e){200==e.code&&(t.info=e.data)}))},getProject:function(){var t=this;Object(s["c"])(this.id).then((function(e){200==e.code&&(t.projectHours=e.data)}))},getOther:function(){var t=this;Object(n["a"])(this.id).then((function(e){200==e.code&&null!=e.data&&(t.otherHour=e.data)}))},handleDel:function(){var t=this;Object(a["b"])(this.id).then((function(e){200==e.code&&(t.$message({type:"success",message:"删除成功"}),t.dailyDialog=!1,t.$emit("commit",t.index))}))},handleViewCannel:function(){this.dailyDialog=!1}}},d=c,h=(i("2c1f"),i("2877")),m=Object(h["a"])(d,r,o,!1,null,"d07b4098",null);e["default"]=m.exports},8247:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:16}},[i("div",{staticClass:"grid-content bg-purple"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[i("div",{staticClass:"Btngroups"},[i("div",{staticClass:"btns"},[i("el-row",[i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.prevWeek}},[t._v("向前")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.nextWeek}},[t._v("向后")]),i("el-button",{attrs:{type:"primary",plain:"",disabled:t.bzclick},on:{click:t.currentWeek}},[t._v("本周")])],1)],1),i("div",{staticClass:"btn"})])])]),i("div",{staticClass:"text item"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.hourList,"show-header":!1}},[i("el-table-column",{attrs:{prop:"date",label:"日期",width:"140"}}),i("el-table-column",{attrs:{prop:"week",label:"星期",width:"80"}}),i("el-table-column",{attrs:{prop:"createTime",label:"提交时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!=e.row.createTime?i("span",[t._v(" 已填报 ")]):2==e.row.status?i("span",[t._v(" 缺报 ")]):3==e.row.status?i("span",[t._v(" 尚未开始 ")]):i("span")]}}])}),i("el-table-column",{attrs:{label:"审核状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.reviewType?i("span",[t._v(" 无需审核 ")]):1==e.row.reviewType?i("span",[0==e.row.status?i("span",[t._v(" 待审核 ")]):t._e(),1==e.row.status?i("span",[t._v(" 审核通过 ")]):t._e(),-1==e.row.status?i("span",[t._v(" 已驳回 ")]):t._e()]):i("span")]}}])}),i("el-table-column",{attrs:{width:"295",label:"提交",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"margin-left":"10px"}},[i("el-button",{style:{display:2==e.row.status?"":"none"},attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.handleCreate(e.row,e.$index)}}},[t._v("提交工时 ")])],1),i("el-button",{style:{display:1==e.row.status?"":"none"},attrs:{size:"mini"},on:{click:function(i){return t.handleDetail(e.row,e.$index)}}},[t._v("查看详情 ")])]}}])})],1)],1)])],1)]),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"grid-content bg-purple-dark"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("我参加的项目")])]),t._l(t.myProject,(function(e){return i("div",{key:e.projectId,staticClass:"text item projectPanel"},[i("div",{staticClass:"projectName"},[t._v(t._s(e.projectName))])])}))],2)],1)])],1),i("fillHour",{ref:"fillHour",on:{commit:t.commitSubmit}}),i("infoHour",{ref:"infoHour",on:{commit:t.commitDel}})],1)},o=[],a=(i("d3b7"),i("ac1f"),i("5319"),i("0643"),i("4e3e"),i("159b"),i("1a07")),s=i("4fee"),n=i("46d0"),l=i("7a8b"),u={components:{fillHour:n["default"],infoHour:l["default"]},data:function(){return{queryDate:{},hourList:[],weekArr:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],bzclick:!0,myProject:[]}},created:function(){this.init()},methods:{init:function(){this.currentWeek(),this.getProjectList(),this.getHourList()},handleCreate:function(t,e){this.$refs.fillHour.open(t,e)},handleDetail:function(t,e){this.$refs.infoHour.id=t.id,this.$refs.infoHour.index=e,this.$refs.infoHour.open()},commitSubmit:function(t,e){this.hourList[t].status=1,this.hourList[t].createTime="已填报",this.hourList[t].id=e.data},commitDel:function(t){console.log("我被调用了",t),this.hourList[t].status=2,delete this.hourList[t].createTime,delete this.hourList[t].id},setWeekDay:function(){var t={};t.startDate=this.$moment().isoWeekday(1).format("YYYY-MM-DD"),t.endDate=this.$moment().isoWeekday(7).format("YYYY-MM-DD"),this.dateArr=t},prevWeek:function(){this.bzclick=!1;var t=this.$moment(this.queryDate.startDate).startOf("week").subtract(7,"days").format("YYYY-MM-DD"),e=this.$moment(this.queryDate.startDate).endOf("week").subtract(7,"days").format("YYYY-MM-DD");this.queryDate.startDate=t,this.queryDate.endDate=e,this.getHourList()},nextWeek:function(){this.bzclick=!1;var t=this.$moment(this.queryDate.startDate).startOf("week").add(7,"days").format("YYYY-MM-DD"),e=this.$moment(this.queryDate.startDate).endOf("week").add(7,"days").format("YYYY-MM-DD");this.queryDate.startDate=t,this.queryDate.endDate=e,this.getHourList()},currentWeek:function(){this.bzclick=!0;var t=this.$moment().startOf("week").format("YYYY-MM-DD"),e=this.$moment().endOf("week").format("YYYY-MM-DD");this.queryDate.startDate=t,this.queryDate.endDate=e,this.getHourList()},getHourList:function(){var t=this;Object(a["e"])(this.queryDate.startDate,this.queryDate.endDate).then((function(e){200==e.code&&(t.hourList=e.data),t.hourList.forEach((function(e){var i=new Date(Date.parse(e.date.replace(/-/g,"/")));e.week=t.weekArr[i.getDay()]}))}))},getProjectList:function(){var t=this;Object(s["e"])().then((function(e){console.log("res:",e),200==e.code&&(t.myProject=e.data)}))},fillHistory:function(){}}},c=u,d=(i("9318"),i("2877")),h=Object(d["a"])(c,r,o,!1,null,"7eec3dc0",null);e["default"]=h.exports},"8b84":function(t,e,i){"use strict";i("e1c8")},"8bd9":function(t,e,i){},"8c26":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"title"},[t._v("审核记录")])]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.reviewList}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"55",align:"center"}}),i("el-table-column",{attrs:{prop:"createTime",label:"审核时间",align:"center",width:"160"}}),i("el-table-column",{attrs:{prop:"status",label:"审核结果",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v(" 通过 ")]):-1==e.row.status?i("el-tag",{attrs:{type:"danger"}},[t._v(" 驳回 ")]):t._e()]}}])}),i("el-table-column",{attrs:{prop:"remark",label:"审核意见",align:"center"}}),i("el-table-column",{attrs:{prop:"createName",label:"审核人",width:"90",align:"center"}})],1)],1)],1)},o=[],a=i("39c4"),s={name:"dayHourReviewList",data:function(){return{reviewList:[]}},props:["id"],created:function(){this.getList()},methods:{getList:function(){var t=this;Object(a["a"])(this.id).then((function(e){t.reviewList=e.data}))}}},n=s,l=i("2877"),u=Object(l["a"])(n,r,o,!1,null,null,null);e["default"]=u.exports},9318:function(t,e,i){"use strict";i("da21")},c194:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a}));var r=i("b775");i("c38a");function o(t){return Object(r["a"])({url:"/mh/hour/other/detail?hourId=".concat(t),method:"get"})}function a(t){return Object(r["a"])({url:"/mh/hour/other/query",method:"get",params:t})}},cd00:function(t,e,i){"use strict";i("4310")},da21:function(t,e,i){},e1c8:function(t,e,i){}}]);