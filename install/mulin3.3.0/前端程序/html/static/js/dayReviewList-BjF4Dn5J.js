import{z as u,_ as x,r as f,w as k,B as R,f as n,c as N,o as c,h as a,j as o,i as v,k as w,l as B,p as y}from"./index-DOTrAPYh.js";function T(e){return u({url:"/mh/review/day/list",method:"get",params:e})}function L(e){return u({url:"/mh/review/day/detail?hourId="+e,method:"get"})}function z(e){return u({url:"/mh/review/day/audit",method:"post",data:e})}const V={class:"main"},j={__name:"dayReviewList",props:{id:{type:[Number,String],required:!0}},setup(e,{expose:g}){const i=e,s=f([]),_=f(!1),d=async()=>{if(i.id){_.value=!0;try{const t=await L(i.id);t.code===200?s.value=t.data||[]:s.value=[]}catch(t){console.error("获取审核记录失败:",t),s.value=[]}finally{_.value=!1}}};return k(()=>i.id,t=>{t?d():s.value=[]},{immediate:!0}),R(()=>{i.id&&d()}),g({refresh:d}),(t,r)=>{const l=n("el-table-column"),p=n("el-tag"),b=n("el-table"),h=n("el-card");return c(),N("div",V,[a(h,{class:"review-card"},{default:o(()=>[r[2]||(r[2]=v("div",{slot:"header",class:"clearfix"},[v("span",{class:"title"},"审核记录")],-1)),a(b,{data:s.value,style:{width:"100%"}},{default:o(()=>[a(l,{type:"index",label:"序号",width:"55",align:"center"}),a(l,{prop:"createTime",label:"审核时间",align:"center",width:"160"}),a(l,{prop:"status",label:"审核结果",align:"center",width:"80"},{default:o(m=>[m.row.status==1?(c(),w(p,{key:0,type:"success"},{default:o(()=>r[0]||(r[0]=[y(" 通过 ")])),_:1,__:[0]})):m.row.status==-1?(c(),w(p,{key:1,type:"danger"},{default:o(()=>r[1]||(r[1]=[y(" 驳回 ")])),_:1,__:[1]})):B("",!0)]),_:1}),a(l,{prop:"remark",label:"审核意见",align:"center"}),a(l,{prop:"createName",label:"审核人",width:"90",align:"center"})]),_:1},8,["data"])]),_:1,__:[2]})])}}},C=x(j,[["__scopeId","data-v-b7240d67"]]),I=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));export{I as a,C as d,T as l,z as s};
