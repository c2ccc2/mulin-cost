import{_ as U,r as m,B as I,f as o,c as r,o as s,h as t,i as C,D as T,j as n,n as k,p as _,l as N,t as D,G as z}from"./index-DOTrAPYh.js";import{d as B}from"./user-CyO_SREy.js";import{q}from"./other-DCksgyzN.js";const K={class:"app-container"},L={class:"text item"},P={key:0},Q={key:1},j={key:0},E={key:1},G={key:2},O={__name:"index",setup(A){const a=m({deptId:void 0,startDate:null,endDate:null,userName:"",nickName:"",pageNum:1,pageSize:10}),f=m([]),y=m([]),c=m(0);function h(){B().then(i=>{f.value=i.data})}function v(){q(a.value).then(i=>{y.value=i.data.rows,c.value=i.data.total})}function p(){a.value.pageNum=1,v()}function V(){a.value={deptId:void 0,startDate:null,endDate:null,userName:"",nickName:"",pageNum:1,pageSize:10},p()}return I(()=>{h(),v()}),(i,l)=>{const x=o("el-tree-select"),d=o("el-form-item"),w=o("el-date-picker"),b=o("el-input"),g=o("el-button"),Y=o("el-form"),u=o("el-table-column"),S=o("el-table"),M=o("pagination");return s(),r("div",K,[t(Y,{model:a.value,inline:!0,"label-width":"68px",class:"search-form"},{default:n(()=>[t(d,{label:"",prop:"deptId"},{default:n(()=>[t(x,{modelValue:a.value.deptId,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.deptId=e),data:f.value,"render-after-expand":!1,props:{value:"id",label:"label",children:"children"},"value-key":"id",placeholder:"请选择部门","check-strictly":"",style:{width:"200px"}},null,8,["modelValue","data"])]),_:1}),t(d,{label:""},{default:n(()=>[t(w,{modelValue:a.value.startDate,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.startDate=e),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",clearable:!0,type:"date",placeholder:"开始时间",class:"datepicker",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),t(d,{label:""},{default:n(()=>[t(w,{modelValue:a.value.endDate,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.endDate=e),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",clearable:!0,type:"date",placeholder:"结束时间",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),t(d,{label:"",prop:"userName"},{default:n(()=>[t(b,{modelValue:a.value.userName,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.userName=e),placeholder:"请输入登录名",clearable:"",style:{width:"150px"},onKeyup:k(p,["enter","native"])},null,8,["modelValue"])]),_:1}),t(d,{label:"",prop:"nickName"},{default:n(()=>[t(b,{modelValue:a.value.nickName,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.nickName=e),placeholder:"请输入姓名",clearable:"",style:{width:"150px"},onKeyup:k(p,["enter","native"])},null,8,["modelValue"])]),_:1}),t(d,null,{default:n(()=>[t(g,{onClick:p},{default:n(()=>l[7]||(l[7]=[_("搜索")])),_:1,__:[7]}),t(g,{onClick:V},{default:n(()=>l[8]||(l[8]=[_("重置")])),_:1,__:[8]})]),_:1})]),_:1},8,["model"]),C("div",L,[t(S,{data:y.value,style:{width:"100%"}},{default:n(()=>[t(u,{label:"序号",type:"index",width:"50",align:"center"}),t(u,{prop:"fillDate",label:"日期",width:"140",align:"center"}),t(u,{label:"用户名",align:"center",key:"userName",prop:"userName",width:"120"}),t(u,{label:"姓名",align:"center",key:"nickName",prop:"nickName"}),t(u,{prop:"status",label:"审核状态",align:"center"},{default:n(e=>[e.row.reviewType==0?(s(),r("span",P," 无需审核 ")):e.row.reviewType==1?(s(),r("span",Q,[e.row.reviewStatus==0?(s(),r("span",j,"待审核")):e.row.reviewStatus==1?(s(),r("span",E,"审核通过")):e.row.reviewStatus==-1?(s(),r("span",G,"审核不通过")):N("",!0)])):N("",!0)]),_:1}),t(u,{prop:"status",label:"工时",align:"center"},{default:n(e=>[_(D(e.row.hour)+" 小时 ",1)]),_:1}),t(u,{prop:"status",label:"日志",align:"center"},{default:n(e=>[_(D(e.row.daily||"无"),1)]),_:1})]),_:1},8,["data"])]),T(t(M,{total:c.value,page:a.value.pageNum,"onUpdate:page":l[5]||(l[5]=e=>a.value.pageNum=e),limit:a.value.pageSize,"onUpdate:limit":l[6]||(l[6]=e=>a.value.pageSize=e),onPagination:v},null,8,["total","page","limit"]),[[z,c.value>0]])])}}},R=U(O,[["__scopeId","data-v-2a4e37de"]]);export{R as default};
