(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc30bc1a","chunk-0a99385b"],{"1e25":function(t,e,r){"use strict";r("738d")},"3bea":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[r("el-row",{staticClass:"mb8",attrs:{gutter:10}},[t._l(t.statusBtns,(function(e){return r("el-col",{key:e.dictSort,attrs:{span:1.5}},[r("el-button",{attrs:{type:e.type,plain:"",icon:e.icon,size:"mini"},on:{click:function(r){return t.lookSearch(e.value)}}},[t._v(t._s(e.label))])],1)})),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-folder-opened",size:"mini"},on:{click:function(e){return t.lookSearch()}}},[t._v("所有")])],1),r("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary",plain:""},on:{click:t.newProject}},[t._v("创建项目")])],2)],1)]),r("div",{staticClass:"grid-content"},[r("el-row",{staticClass:"myprocard"},t._l(t.tableData,(function(e){return r("el-col",{key:e.projectId,staticClass:"box-card",staticStyle:{width:"22%"}},[r("div",[r("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[r("div",{staticClass:"clearfix card-header text-css",attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(e.projectName)+" ")]),r("div",{staticClass:"card-content"},[t._v(" "+t._s(e.remark?e.remark:"")+" ")]),r("el-divider"),r("div",{staticClass:"card-footer"},[r("div",{staticClass:"projectpeople"},[r("span",[t._v("项目经理："+t._s(e.projectManagerName))]),r("span",[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(r){return t.toDetail(e)}}},[t._v("详情")])],1)])])],1)],1)])})),1),r("div",{staticClass:"page"},[r("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.queryParams.pageNum,"page-sizes":[8]},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},pagination:t.getProjectList}})],1)],1)]),r("addForm",{ref:"addform"})],1)},o=[],i=(r("14d9"),r("4fee")),n=r("c3a1"),s={components:{addForm:n["default"]},data:function(){return{tableData:[],statusBtns:[{type:"primary",icon:"el-icon-folder-add",value:1,label:"进行中"},{type:"info",icon:"el-icon-truck",value:0,label:"已停止"}],total:0,queryParams:{pageNum:1,pageSize:8,projectStatus:1},IndexFillInfo:{},workTime:8}},created:function(){this.init()},methods:{init:function(){this.getProjectList()},getProjectList:function(){var t=this;Object(i["f"])(this.queryParams).then((function(e){200==e.code?(t.total=e.total,t.tableData=e.rows):t.$message.error(e.msg)}))},lookSearch:function(t){this.queryParams.projectStatus=t,this.getProjectList()},newProject:function(){this.$refs.addform.open()},toDetail:function(t){var e=t.projectId;this.$router.push({path:"/project/detail/index",query:{projectId:e}})}}},c=s,l=(r("1e25"),r("2877")),u=Object(l["a"])(c,a,o,!1,null,"ef7d65cc",null);e["default"]=u.exports},"4fee":function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"f",(function(){return i})),r.d(e,"b",(function(){return n})),r.d(e,"d",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"e",(function(){return l}));var a=r("b775");function o(t){return Object(a["a"])({url:"/project/create",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/project/list",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/project/remove?projectId="+t,method:"delete"})}function s(t){return Object(a["a"])({url:"/project/"+t,method:"get"})}function c(t){return Object(a["a"])({type:"form",url:"/project/enable",headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"put",data:t})}function l(){return Object(a["a"])({url:"/project/myJoin",method:"get"})}},"738d":function(t,e,r){},c3a1:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("el-dialog",{attrs:{title:"创建项目",width:"40%",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:t.ruleForm.projectName,callback:function(e){t.$set(t.ruleForm,"projectName",e)},expression:"ruleForm.projectName"}})],1),r("el-form-item",{attrs:{label:"项目描述",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",maxlength:"200","show-word-limit":""},model:{value:t.ruleForm.remark,callback:function(e){t.$set(t.ruleForm,"remark",e)},expression:"ruleForm.remark"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.closeForm}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("立即创建")])],1)],1)],1)},o=[],i=r("4fee"),n={name:"addform",data:function(){return{dialogFormVisible:!1,formLabelWidth:"120px",projectManagerArr:[],ruleForm:{projectName:"",remark:""},rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:1,max:20,message:"长度在20 个字符以内",trigger:"blur"}]}}},created:function(){},methods:{open:function(){this.dialogFormVisible=!0},closeForm:function(){this.resetForm("ruleForm"),this.dialogFormVisible=!1},submitForm:function(t){var e=this;this.$refs[t].validate((function(r){if(!r)return!1;Object(i["a"])(e.ruleForm).then((function(r){200==r.code&&(e.resetForm(t),e.$modal.msgSuccess("创建成功"),e.dialogFormVisible=!1,e.$parent.init())})).catch((function(t){e.$modal.msgError("创建失败，失败原因素为：".concat(t))}))}))},resetForm:function(t){this.$refs[t].resetFields()}}},s=n,c=r("2877"),l=Object(c["a"])(s,a,o,!1,null,"79593b3f",null);e["default"]=l.exports}}]);