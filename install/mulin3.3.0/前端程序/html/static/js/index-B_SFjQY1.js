import{_ as I,r as m,B as z,f as u,c as i,o as s,h as t,i as T,D as B,j as o,n as N,p,l as h,t as y,G as H}from"./index-DOTrAPYh.js";import{d as q}from"./user-CyO_SREy.js";import{q as K}from"./day-BW9qJLif.js";import L from"./dayDetail-D6GrnD1D.js";import"./projectHour-DaHsWXCm.js";import"./other-DCksgyzN.js";import"./dayReviewList-BjF4Dn5J.js";const P={class:"app-container"},Q={class:"text item"},R={key:0},j={key:1},E={key:0},G={key:1},O={key:2},$={__name:"index",setup(A){const a=m({deptId:void 0,startDate:null,endDate:null,userName:"",pageNum:1,pageSize:10}),w=m([]),g=m([]),_=m(0),b=m(null);function V(){q().then(r=>{w.value=r.data})}function f(){K(a.value).then(r=>{console.log("response",r),g.value=r.data.rows,_.value=r.data.total})}function c(){a.value.pageNum=1,f()}function x(){a.value={deptId:void 0,startDate:null,endDate:null,userName:"",pageNum:1,pageSize:10},c()}function Y(r){b.value.show(r)}return z(()=>{V(),f()}),(r,l)=>{const S=u("el-tree-select"),d=u("el-form-item"),k=u("el-date-picker"),D=u("el-input"),v=u("el-button"),M=u("el-form"),n=u("el-table-column"),C=u("el-table"),U=u("pagination");return s(),i("div",P,[t(M,{model:a.value,inline:!0,"label-width":"68px",class:"search-form"},{default:o(()=>[t(d,{label:"",prop:"deptId"},{default:o(()=>[t(S,{modelValue:a.value.deptId,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.deptId=e),data:w.value,"render-after-expand":!1,props:{value:"id",label:"label",children:"children"},"value-key":"id",placeholder:"请选择部门","check-strictly":"",style:{width:"200px"}},null,8,["modelValue","data"])]),_:1}),t(d,{label:""},{default:o(()=>[t(k,{modelValue:a.value.startDate,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.startDate=e),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",clearable:!0,type:"date",placeholder:"开始时间",class:"datepicker",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),t(d,{label:""},{default:o(()=>[t(k,{modelValue:a.value.endDate,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.endDate=e),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",clearable:!0,type:"date",placeholder:"结束时间",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),t(d,{label:"",prop:"userName"},{default:o(()=>[t(D,{modelValue:a.value.userName,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.userName=e),placeholder:"请输入登录名",clearable:"",style:{width:"150px"},onKeyup:N(c,["enter","native"])},null,8,["modelValue"])]),_:1}),t(d,{label:"",prop:"nickName"},{default:o(()=>[t(D,{modelValue:a.value.nickName,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.nickName=e),placeholder:"请输入姓名",clearable:"",style:{width:"150px"},onKeyup:N(c,["enter","native"])},null,8,["modelValue"])]),_:1}),t(d,null,{default:o(()=>[t(v,{onClick:c},{default:o(()=>l[7]||(l[7]=[p("搜索")])),_:1,__:[7]}),t(v,{onClick:x},{default:o(()=>l[8]||(l[8]=[p("重置")])),_:1,__:[8]})]),_:1})]),_:1},8,["model"]),T("div",Q,[t(C,{data:g.value,style:{width:"100%"}},{default:o(()=>[t(n,{label:"序号",type:"index",width:"50",align:"center"}),t(n,{prop:"fillDate",label:"日期",width:"140",align:"center"}),t(n,{label:"用户名",align:"center",key:"userName",prop:"userName",width:"120"}),t(n,{label:"姓名",align:"center",key:"nickName",prop:"nickName"}),t(n,{prop:"status",label:"审核状态",align:"center"},{default:o(e=>[e.row.reviewType==0?(s(),i("span",R," 无需审核 ")):e.row.reviewType==1?(s(),i("span",j,[e.row.reviewStatus==0?(s(),i("span",E,"待审核")):e.row.reviewStatus==1?(s(),i("span",G,"审核通过")):e.row.reviewStatus==-1?(s(),i("span",O,"审核不通过")):h("",!0)])):h("",!0)]),_:1}),t(n,{prop:"status",label:"总工时",align:"center"},{default:o(e=>[p(y(e.row.totalHour||0)+" 小时 ",1)]),_:1}),t(n,{prop:"status",label:"项目工时",align:"center"},{default:o(e=>[p(y(e.row.workHour||0)+" 小时 ",1)]),_:1}),t(n,{prop:"status",label:"其他工时",align:"center"},{default:o(e=>[p(y(e.row.otherHour||0)+" 小时 ",1)]),_:1}),t(n,{label:"操作",align:"center"},{default:o(e=>[t(v,{onClick:F=>Y(e.row),type:"primary",plain:"",size:"small"},{default:o(()=>l[9]||(l[9]=[p("查看详情")])),_:2,__:[9]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),B(t(U,{total:_.value,page:a.value.pageNum,"onUpdate:page":l[5]||(l[5]=e=>a.value.pageNum=e),limit:a.value.pageSize,"onUpdate:limit":l[6]||(l[6]=e=>a.value.pageSize=e),onPagination:f},null,8,["total","page","limit"]),[[H,_.value>0]]),t(L,{ref_key:"dayDetailRef",ref:b},null,512)])}}},ae=I($,[["__scopeId","data-v-207556ec"]]);export{ae as default};
