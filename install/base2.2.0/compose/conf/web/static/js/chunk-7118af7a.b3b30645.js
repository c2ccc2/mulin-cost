(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7118af7a","chunk-27e69c76"],{"1a07":function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"f",(function(){return i})),r.d(e,"c",(function(){return u})),r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return l})),r.d(e,"b",(function(){return c}));r("99af");var a=r("b775"),n=r("c38a");function o(t){return Object(a["a"])({url:"/mh/hour/day/create",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/mh/hour/day/edit",method:"put",data:t})}function u(t){return Object(a["a"])({url:"/mh/hour/day/"+Object(n["e"])(t),method:"get"})}function s(t,e){return Object(a["a"])({url:"/mh/hour/day/list?endDate=".concat(e,"&startDate=").concat(t),method:"get"})}function l(t){return Object(a["a"])({url:"/mh/hour/day/query",method:"get",params:t})}function c(){return Object(a["a"])({url:"/mh/hour/day/fillStatus",method:"get"})}},"1bd6":function(t,e,r){},"1ea7":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-form",{attrs:{model:t.queryParams,inline:!0,"label-width":"68px"}},[r("el-form-item",{attrs:{label:"",prop:"deptId"}},[r("treeselect",{staticStyle:{width:"200px"},attrs:{options:t.deptOptions,"show-count":!0,placeholder:"请选择部门"},model:{value:t.queryParams.deptId,callback:function(e){t.$set(t.queryParams,"deptId",e)},expression:"queryParams.deptId"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-date-picker",{staticClass:"datepicker",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd","default-value":"","default-time":"",clearable:!1,editable:!1,type:"date",placeholder:"开始时间"},model:{value:t.queryParams.startDate,callback:function(e){t.$set(t.queryParams,"startDate",e)},expression:"queryParams.startDate"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd","default-value":"","default-time":"",clearable:!1,editable:!1,type:"date",placeholder:"结束时间"},model:{value:t.queryParams.endDate,callback:function(e){t.$set(t.queryParams,"endDate",e)},expression:"queryParams.endDate"}})],1),r("el-form-item",{attrs:{label:"",prop:"userName"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户名",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleQuery(e)}},model:{value:t.queryParams.userName,callback:function(e){t.$set(t.queryParams,"userName",e)},expression:"queryParams.userName"}})],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-search"},on:{click:t.handleQuery}},[t._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.resetQuery}},[t._v("重置")])],1)],1),r("div",{staticClass:"text item"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.hourList}},[r("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"}}),r("el-table-column",{attrs:{prop:"fillDate",label:"日期",width:"140",align:"center"}}),r("el-table-column",{key:"userName",attrs:{label:"用户名",align:"center",prop:"userName",width:"120"}}),r("el-table-column",{key:"nickName",attrs:{label:"姓名",align:"center",prop:"nickName"}}),r("el-table-column",{attrs:{prop:"status",label:"总工时",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.totalHour||0)+" 小时 ")]}}])}),r("el-table-column",{attrs:{prop:"status",label:"项目工时",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.workHour||0)+" 小时 ")]}}])}),r("el-table-column",{attrs:{prop:"status",label:"其他工时",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.otherHour||0)+" 小时 ")]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{style:{display:null!=e.row.id?"":"none"},attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){return t.handleClick(e.row)}}},[t._v("查看详情")])]}}])})],1)],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.queryParams.myNum,limit:t.queryParams.mySize},on:{"update:page":function(e){return t.$set(t.queryParams,"myNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"mySize",e)},pagination:t.getList}}),r("dayDetail",{ref:"dayDetail"})],1)},n=[],o=r("c0c7"),i=r("1a07"),u=r("8659"),s=r("ca17"),l=r.n(s),c=(r("542c"),{name:"queryhourList",components:{Treeselect:l.a,dayDetail:u["default"]},mixins:[],props:{},data:function(){return{deptOptions:[],queryParams:{myNum:1,mySize:10,userName:void 0,deptId:void 0,startDate:"",endDate:""},hourList:[],total:0}},computed:{},watch:{},mounted:function(){},created:function(){this.getDeptTree(),this.getList()},methods:{getDeptTree:function(){var t=this;Object(o["d"])().then((function(e){t.deptOptions=e.data}))},handleQuery:function(){this.getList()},resetQuery:function(){this.queryParams={myNum:1,mySize:10,userName:void 0,deptId:void 0,startDate:"",endDate:""},this.handleQuery()},getList:function(){var t=this;Object(i["e"])(this.queryParams).then((function(e){200==e.code&&(t.total=e.data.total,t.hourList=e.data.rows)}))},handleClick:function(t){this.$refs.dayDetail.id=t.id,this.$refs.dayDetail.open()}}}),d=c,f=r("2877"),m=Object(f["a"])(d,a,n,!1,null,"f5e4ac90",null);e["default"]=m.exports},2257:function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return i}));var a=r("b775");r("c38a");function n(t){return Object(a["a"])({url:"/project/hour/detail?hourId="+t,method:"get"})}function o(t){return Object(a["a"])({url:"/project/hour/count?projectId="+t,method:"get"})}function i(t){return Object(a["a"])({url:"/project/hour/list",method:"get",params:t})}},8659:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("el-dialog",{attrs:{title:"日报详情",visible:t.dailyDialog,width:"55%","before-close":t.handleViewCannel,align:"center","custom-class":"detailDialog"},on:{"update:visible":function(e){t.dailyDialog=e}}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form",{ref:"form",attrs:{"label-width":"80px"}},[r("el-form-item",[r("el-descriptions",{attrs:{title:"信息",column:2}},[r("el-descriptions-item",{attrs:{label:"填报日期"}},[t._v(" "+t._s(this.info.fillDate)+" ")]),r("el-descriptions-item",{attrs:{label:"工时总计"}},[t._v(t._s(this.info.totalHour?this.info.totalHour:0)+"小时")]),r("el-descriptions-item",{attrs:{label:"项目工时"}},[t._v(t._s(this.info.workHour?this.info.workHour:0)+"小时")]),r("el-descriptions-item",{attrs:{label:"其他工时"}},[t._v(t._s(this.info.otherHour?this.info.otherHour:0)+"小时")]),r("el-descriptions-item",{attrs:{label:"提交时间"}},[t._v(t._s(this.info.createTime))])],1)],1),r("el-form-item",[r("div",{staticClass:"el-descriptions__title",staticStyle:{"text-align":"left"}},[t._v(" 项目工时 ")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.projectHours}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),r("el-table-column",{attrs:{prop:"projectName",label:"项目名称",width:"260"}}),r("el-table-column",{attrs:{prop:"hour",label:"工时",width:"80 ",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.hour)+"小时")])]}}])}),r("el-table-column",{attrs:{prop:"daily",label:"工作内容",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.daily?e.row.daily:"无"))])]}}])})],1)],1),r("el-form-item",[r("div",{staticClass:"el-descriptions__title",staticStyle:{"text-align":"left"}},[t._v(" 其他工时 ")]),r("el-descriptions",{attrs:{title:"",column:2}},[r("el-descriptions-item",{attrs:{label:"工时"}},[t._v(t._s(this.otherHour.hour?this.otherHour.hour:0)+"小时")]),r("el-descriptions-item",{attrs:{label:"工作内容"}},[t._v(t._s(this.otherHour.daily?this.otherHour.daily:"无"))])],1)],1),r("el-form-item",[r("div",{attrs:{align:"center"}},[r("el-button",{style:{width:"120px"},attrs:{size:"small"},on:{click:t.handleViewCannel}},[t._v("关闭")])],1)])],1)],1)],1)],1)],1)},n=[],o=r("1a07"),i=r("2257"),u=r("c194"),s={components:{},data:function(){return{dailyDialog:!1,id:0,info:{},projectHours:[],otherHour:{}}},created:function(){},methods:{open:function(){this.dailyDialog=!0,this.getDetail(),this.getProject(),this.getOther()},handleEdit:function(){this.$refs.editHour.otherHour=this.otherHour,this.$refs.editHour.projectArr=this.projectHours,this.$refs.editHour.info=this.info,this.$refs.editHour.open()},getDetail:function(){var t=this;Object(o["c"])(this.id).then((function(e){200==e.code&&(t.info=e.data)}))},getProject:function(){var t=this;Object(i["c"])(this.id).then((function(e){200==e.code&&(t.projectHours=e.data)}))},getOther:function(){var t=this;Object(u["a"])(this.id).then((function(e){200==e.code&&(t.otherHour=e.data)}))},handleViewCannel:function(){this.dailyDialog=!1}}},l=s,c=(r("f90c"),r("2877")),d=Object(c["a"])(l,a,n,!1,null,"788926ea",null);e["default"]=d.exports},c0c7:function(t,e,r){"use strict";r.d(e,"i",(function(){return o})),r.d(e,"f",(function(){return i})),r.d(e,"a",(function(){return u})),r.d(e,"l",(function(){return s})),r.d(e,"c",(function(){return l})),r.d(e,"j",(function(){return c})),r.d(e,"b",(function(){return d})),r.d(e,"h",(function(){return f})),r.d(e,"m",(function(){return m})),r.d(e,"n",(function(){return h})),r.d(e,"o",(function(){return p})),r.d(e,"e",(function(){return y})),r.d(e,"k",(function(){return b})),r.d(e,"d",(function(){return v})),r.d(e,"g",(function(){return g}));var a=r("b775"),n=r("c38a");function o(t){return Object(a["a"])({url:"/system/user/list",method:"get",params:t})}function i(t){return Object(a["a"])({url:"/system/user/"+Object(n["e"])(t),method:"get"})}function u(t){return Object(a["a"])({url:"/system/user",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/system/user",method:"put",data:t})}function l(t){return Object(a["a"])({url:"/system/user/"+t,method:"delete"})}function c(t,e){var r={userId:t,password:e};return Object(a["a"])({url:"/system/user/resetPwd",method:"put",data:r})}function d(t,e){var r={userId:t,status:e};return Object(a["a"])({url:"/system/user/changeStatus",method:"put",data:r})}function f(){return Object(a["a"])({url:"/system/user/profile",method:"get"})}function m(t){return Object(a["a"])({url:"/system/user/profile",method:"put",data:t})}function h(t,e){var r={oldPassword:t,newPassword:e};return Object(a["a"])({url:"/system/user/profile/updatePwd",method:"put",params:r})}function p(t){return Object(a["a"])({url:"/system/user/profile/avatar",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t})}function y(t){return Object(a["a"])({url:"/system/user/authRole/"+t,method:"get"})}function b(t){return Object(a["a"])({url:"/system/user/authRole",method:"put",params:t})}function v(){return Object(a["a"])({url:"/system/user/deptTree",method:"get"})}function g(){return Object(a["a"])({url:"/system/user/userInfo",method:"get"})}},c194:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));var a=r("b775");r("c38a");function n(t){return Object(a["a"])({url:"/mh/hour/other/detail?hourId=".concat(t),method:"get"})}function o(t){return Object(a["a"])({url:"/mh/hour/other/query",method:"get",params:t})}},f90c:function(t,e,r){"use strict";r("1bd6")}}]);